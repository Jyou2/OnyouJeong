---
title: '배열(Array)'
excerpt: 자바의 정석 책으로 공부합니다.
date: 2020-11-24
category: 'Java'
draft: false
---


## 배열(Array)

### 배열이란?
같은 타입의 여러 변수를 하나의 묶음으로 다루는 것을 '배열(Array)' 이라고 한다.  
많은 양의 데이터를 손쉽게 다룰 수 있다.  

예를 들어 한 학급의 학생 5명의 점수를 저장하고자 할 때,  
배열을 사용하지 않는다면 아래와 같이 점수를 저장하기 위해서 5개의 변수를 선언해야 한다.  <br>
```java  
int score1, score2, score3, score4, score5;   
```  

배열을 사용하면 이렇게 간단히 처리할 수 있다.  
값을 저장할 수 있는 공간은 score[0] 부터 score[4]까지 모두 5개 이며,  
변수 score는 배열을 다루는 데 필요한 참조변수일 뿐 값을 저장하기 위한 공간은 아니다.  
```java
int[] score = new int[5]; //5개의 int값을 저장할 수 있는 배열을 생성
```

변수와 달리 배열은 각 저장공간이 연속적으로 배치되어 있다.

### 배열의 선언과 생성

|선언 방법|선언 예|
|--------|--------|
|타입\[\] 변수이름;| int\[\] score;|
|타입 변수이름\[\];| int score\[\];|


**배열의 생성**
배열을 선언한 다음에는 배열을 `생성`해야 한다.  
배열을 선언하는 것은 단지 생성된 배열을 다루기 위한 `참조변수를 위한 공간`이 만들어질 뿐이고,  
배열을 생성해야 비로소 값을 저장할 수 있는 공간이 만들어진다.  
배열을 생성하기 위해서는 연산자 `new` 와 함께 **배열의 타입과 길이**를 지정해야 한다.
```java
타입[] 변수이름;            //배열을 선언(참조변수 선언)  
변수이름 = new 타입[길이];  //배열을 생성(실제 저장공간을 생성)   
```

**선언과 생성을 동시에**
```java   
타입[] 변수이름 = new 타입[길이];   
```   

배열의 선언과 생성과정을 단계별로 자세히 살펴보자.  
1. int[] score;   
int형 배열 참조변수 score를 선언한다.  
데이터를 저장할 수 있는 공간은 아직 마련되지 않았다.  
2. score = new int[5];   
연산자 new에 의해서 메모리의 빈 공간에 5개의 int형 데이터를 저장할 수 있는 공간이 마련된다.   

3. 그리고 각 배열요소는 자동적으로 int의 기본값(default)인 0으로 초기화 된다.   
4. 끝으로 대입 연산자 = 에 의해 배열의 주소가 int형 배열 참조변수 score에 저장된다.   


### 배열의 길이와 인덱스
생성된 배열의 각 저장공간을 `배열의 요소(element)` 라고 하며, 배열이름\[인덱스\]의 형식으로 배열의 요소에 접근한다.   
`인덱스(index)`란 배열의 요소마다 붙여진 일련번호이다.   
```java   
score[3] = 100;        //배열 score의 4번째 요소에 100을 저장   
int value = score[3];  //배열 score의 4번째 요소에 저장된 값을 읽어서 value에 저장   
```   
**인덱스의 범위는 '0부터 배열길이-1'이다.**   


배열의 또 다른 장점은 index로 상수 대신 변수나 수식도 사용할 수 있다.   


```java   
score[0] = 0;   
score[1] = 10;   
score[2] = 20;   
score[3] = 30;   
score[4] = 40;   
```

↓

```java   
for(int i=0; i<5; i++){   
  score[i] = i * 10;   
}   
```   

이같이 for문을 이용해서 간단히 할 수 있다.   
for문에 제어변수 i는 배열의 index로 사용하기에 알맞아서,   
배열을 다룰 때 for문은 거의 필수적이다.   



배열을 다룰 때 주의할 점은 index의 범위를 벗어난 값을 index로 사용하지 않아야 한다.   
유효하지 않은 값을 index로 사용하면, 무사히 컴파일을 마쳤더라도 실행시에 에러(ArrayIndexOutOfBoundsException)가 발생한다.   


### 배열의 길이
배열을 생성할 때 괄호\[\]안에 배열의 길이를 적어줘야 하는데,   
배열의 길이는 배열의 요소의 개수, 즉 값을 저장할 수 있는 공간의 개수다.   


```java   
타입[] 배열이름 = new 타입[길이];   
int[] arr = new int[5];  //길이가 5인 int배열   
```   

**배열의 길이는 int범위의 양의 정수(0도 포함)이어야 한다.**   



### 배열이름.length
자바에서는 JVM이 모든 배열의 길이를 별도로 관리하며,   
`배열이름.length`를 통해서 배열의 길이에 대한 정보를 얻을 수 있다.   

```java   
int[] arr = new int[5];
int tmp = arr.length; //arr.length의 값은 5이고 tmp에 5 저장 
```   


배열을 한번 생성ㅇ하면 길이를 변경할 수 없기 때문에,   
이미 생성된 배열의 길이는 변하지 않는다.   
`배열이름.length`는 `상수`다.   
즉, 값을 읽을 수만 있을 뿐 변경할 수 없다.   
for문의 조건식에 배열의 길이를 직접 적어주는 것보다 배열이름.length를 사용하는 것이 좋다.   


### 배열의 길이 변경하기

배열의 길이를 변경하는 방법:   
1. 더 큰 배열을 새로 생성한다.   
2. 기존 배열의 내용을 새로운 배열에 복사한다.   

### 배열의 초기화
```java
int[] score = new int[5];  //길이가 5인 int형 배열 생성
score[0] = 50;             //각 요소에 직접 값을 저장
score[1] = 60;   
score[2] = 70;   
score[3] = 80;   
score[4] = 90;   
```


배열의 길이가 큰 경우에는 for문을 사용하는 것이 좋다.   
```java
int[] score = new int[5];

for(int i=0; i < score.length; i++){
    score[i] = i * 10 + 50;
}
```


그러나 for문으로 배열을 초기화하려면, 저장하려는 값이 일정한 규칙이 있어야만 가능하기 때문에   
자바에서는 아래와 같이 배열을 간단히 초기화 할 수 있는 방법을 제공한다.   
```java
int[] score = new int[] { 50, 60, 70, 80, 90};  //배열의 생성과 초기화를 동시에
```


**배열의 출력**   
배열을 초기화 할 때 for문을 사용하듯이, 배열에 저장된 값을 확인할 때도 for문을 사용하면 된다.   
```java
int[] iArr = {100, 95, 80, 70, 60};
//배열의 요소를 하나씩 출력
for(int i=0; i < iArr.length; i++){
System.out.println(iArr[i]);
}
 ```
 
 더 간단한 방법은 Arrays.toString(배열이름) 메서드를 사용하는 것이다.   
```java
int[] iArr = {100, 95, 80, 70, 60};
//배열의 iArr의 모든 요소를 출력한다.
System.out.println(Arrays.toString(iArr));
 ```

iArr의 값을 바로 출력한다면 '타입@주소' 의 형식으로 출력된다.   



### 배열의 복사
배열을 복사하는 방법은 두 가지가 있다.   
1.for문을 이용해서 배열을 복사하는 방법을 알아보자.   
```java
int[] arr = new int[5];

int[] tmp = new int[arr.length*2];  //기존 배열보다 길이가 2배인 배열 생성

for(int i=0; i < arr.length; i++){
  tmp[i] = arr[i];  //arr[i]의 값을 tmp[i]에 저장
}

arr = tmp;  //참조변수 arr이 새로운 배열을 가리키게 한다.   
```


2.System.arraycopy()를 이용한 배열의 복사   
for문 대신 System클래스의 arraycopy()를 사용하면 보다 간단하고 빠르게 배열을 복사 할 수 있다.   
for문은 배열의 요소를 하나하나에 접근해서 복사하지만,   
arraycopy()는 지정된 범위의 값들을 한 번에 통째로 복사한다.   
각 요소들이 연속적으로 저장되어 있다는 배열의 특성때문에 이렇게 처리하는것이 가능하다.    

**배열의 복사는 for문보다 System.arraycopy()를 사용하는 것이 효율적**   

for문을 arraycopy()로 바꾸면   

```java   
for (int i=0; i < num.length; i++){
  newNum[i] = num[i];
}
```   



```java   
System.arraycopy(num, 0, newNum, 0, num.length);
//num[0]에서 newNum[0]으로 num.length개의 데이터를 복사
```   

