---
title: '자바스크립트(Javascript)'
excerpt: 학원에서 배운 내용을 복습하며 기록합니다.
date: 2021-01-01
category: 'Javascript'
draft: false
---


### 변수와 자료형
#### 변수 선언

자바스크립트는 타입추론을 지원하는 언어이다.   

var 변수명 : 변수, ES6 이전   
let 변수명 : 변수, ES6 이후   
const 변수명 : 상수, ES6 이후   
<br>


**var** : 재선언, 재할당, 함수레벨 스코프, 변수 호이스팅 가능   

```javascript
var test = 'A';
var test = 'B';
```
**let** : 재선언(x), 재할당, 블록레벨 스코프, 변수 호이스팅 불가능   
**const** : 재선언(x), 재할당(x), 블록레벨 스코프, 변수 호이스팅 불가능   


### 자바스크립트 작성방법

1.html 내부에 script 태그를 사용해서 자바스크립트를 작성한다.   
2.js 파일을 생성해 js파일에서 자바스크립트를 작성하고 html파일에 참조한다.   



### 변수 호이스팅

자바스크립트는 interpreter가 코드를 해석할 때   
먼저 변수 또는 함수를 선언하는 코드를 모두 해석해서   
메모리에 등록한 다음 초기화를 진행한다.   
따라서 변수선언을 아래에서 하더라도, interpreter가 해석하는 순서로는   
변수를 선언하는 코드를 먼저 해석함으로   
변수를 선언하는 코드 위에서 변수를 사용하더라도 에러가 발생하지 않는다.   
<br>


### function


```javascript
function $(selector,text){
  if(text){
    document.querySelector(selector).innerHTML += `${text}<br>`;
	}
		
	return document.querySelector(selector);
}
```
<br>

매개변수로 넘어온 css 선택자를 사용해서 원하는 요소에 접근하는 함수를 생성   
함수의 두번째 매개변수로 받은 문자열을 해당 요소의 innerHTML을 사용해 텍스트컨텐츠로 추가   

`if절`은 두번째로 매개변수로 넘어온 값이 undefined나 null이 아니라면,   
boolean으로 바꿨을 때 true라면 즉 공백이 아니라면 실행된다.   

첫 번째 매개변수로 css선택자를 주면 css선택자로 요소를 찾아서 반환해준다.   
만약 두 번째 매개변수가 있다면 css선택자로 원하는 요소를 찾은 다음에   
해당 요소의 innerHTML에다가 두 번째 매개변수로 넣어준 text를 출력해준다.   
`<br>`은 가독성을 위해 넣은 것이다.   
<br>



### Template literals

[Template literals MDN](https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Template_literals)   

문자열을 보다 편리하게 사용할 수 있도록 템플릿을 제공   
사용법 : \`(백틱)을 사용해 문자열을 감싸준다. \`str\`   

1. 여러줄의 문자열을 편리하게 작성하기 사용한다.   
만약 템플릿리터럴을 사용하지 않으면 줄바꿈을 위한 라인피드도 신경써야하고   
문자열 결합연산자도 신경써야 하지만, 템플릿리터럴을 쓰면 그럴 필요가 없다.   
<br>


2.위에서 만든 ${} 사용하기
```javascript
let strVal = 'Template literals';
console.log('이전 : 이건 ' + strVal + ' 라는 것이란다.');
console.log(`이후 : 이건 ${strVal} 라는 것이란다.`);
```
<br>



### Lexical Scope

함수가 선언(생성)되는 시점에 상위 스코프가 결정되는 것.   
함수가 실행되는 시점에 상위 스코프가 결정되는 것이 아니다.   

함수 내부에서 상위스코프의 변수(함수보다 먼저 생성되고 늦게 소멸)에는 접근할 수 있지만   
하위스코프의 변수(함수보다 늦게 생성되고 빨리 소멸)에는 접근할 수 없다.   
		
만약 상위스코프에 같은 이름의 변수가 여러개 존재한다면 가까운 상위 스코프의 변수를 사용한다.   
<br>


**함수도 호이스팅이 가능하다.**   
함수를 선언하기 전에 함수를 호출하는 코드를 작성하였지만 에러가 발생하지 않았다.   
자바스크립트는 변수와 함수의 선언을 먼저 처리하고 이후 코드를 실행하면서 초기화를 진행하기 때문이다.   
하지만 함수 호이스팅은 코드를 엉성하게 짤 위험을 발생시키기 때문에 권장하지 않는다.   
<br>


### 함수 표현식


함수를 선언하지 않고, 함수를 생성해 변수에 할당하는 방식   
자바스크립트는 함수를 값으로 다룰 수 있기 때문에 가능하다.   
함수를 값으로 다룰 수 있기 때문에 아래와 같은 특징을 가지게 된다.   
1) 함수를 변수에 담을 수 있다.   
2) 함수를 전달인자로 사용할 수 있다.   
3) 함수를 return 할 수 있다.   
<br>

이 세가지 요건을 모두 만족하는 함수를 `1급객체`라고 부른다.   


<br>


### 화살표 함수(arrow function)

익명함수를 간단하게 작성하는 방법   
```javascript
일반적인 익명함수 : function(args...){}   
화살표함수 : (args...) => {};    
```


**작성구문** 

```javascript
1. 화살표 함수 : () => {};
2. 만약 매개변수가 하나라면 괄호도 생략 가능
  ex) function(num){}    >>>   num => {};
3. 만약 함수에 return문 만 존재한다면 return과 {}도 생략 가능
  ex) function(num){return num+1;}	>>>	  num => num+1;
```
<br>


### IIFE(Immediately Invoked Function Expression)

함수를 정의함과 동시에 실행하는 방식이다.   
즉시 실행 함수라고 하며 다시 호출할 수 없다.   
최초 한 번만 실행되어야 한느 초기화 코드에서 많이 사용한다.   

```javascript
(function(){
	//작성한다.
})();
```
```javascript
(() => {
	//화살표 함수도 가능하다.
})();
```
함수를 작성하고 감싼다음 `();` 붙여 실행한다.   
<br>


### Closure

이미 실행이 끝난 함수의 지역변수를 참조할 수 있게끔 해주는 함수를 Closure라고 한다.   
함수가 생성 될 때 함수는 자신의 숨겨진 속성인 [[Enviroment]]에 자신이 생성되는 시점의 환경을 기억한다.   
함수가 실행되고 실행컨텍스트가 생성되면 실행컨택스트의 ScopeChain에는 함수의 변수객체와   
[[Enviroment]] 의 속성에 저장된 상위스코프가 합쳐진 ScopeChain이 저장된다.(상위스코프체인 + 자신의 변수객체)   
따라서 함수의 스코프체인을 통해 해당 함수의 상위스코프의 변수에 접근이 가능하다.   

함수가 함수를 리턴하면 리턴된 함수는 자신을 반환한 함수의 환경을 기억함으로   
반환한 함수가 종료되어 해당 함수의 실행컨텍스트가 내려가더라도,   
리턴된 함수의 [[Enviroment]]에 반환한 함수의 스코프체인이 참조 되어 있어 언제든지 해당 변수에 접근할 수 있게 된다.   
이를 응용해 변수에 접근할 방법을 제한할 목적 또는, 변수를   
함수 종료후에도 사용할 목적으로 사용하는 것이 Closure이다.   
<br>
크롬의 콘솔창에서는 [[Enviroment]] 속성이 [[Scopes]] 속성으로 표시된다.   
<br>




### Callback 함수

콜백함수 : 특정 이벤트가 발생한 후, 수행될 함수를 의미한다.   
보통 함수의 매개변수로 콜백함수를 전달하면 해당 함수가 연산을 처리한 후   
내부에서 매개변수로 전달받은 콜백함수를 호출하는 방식 동작한다.   











